<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://java.sun.com/jsf/html"
       xmlns:ui="http://java.sun.com/jsf/facelets"
       xmlns:p="http://primefaces.org/ui"
       xmlns:f="http://java.sun.com/jsf/core">

    <h:body>
        <ui:composition template="/resources/templates/commonLayout.xhtml">
            <ui:define name="title">Edit Profile</ui:define>
            <ui:define name="content">
                <h:form id="profileEdit">
                    <fieldset>
                        <legend>Edit Profile</legend>
                        <p:growl id="messages"/>
                        <ul class ="formFields">
                            <li>
                                <p:outputLabel for="fname" value="First Name: "/>
                                <p:inputText id="fname" value="#{editProfile.firstName}" title="First Name" 
                                      required="true" requiredMessage="The First Name field is required."/>
                            </li>
                            <li>
                                <p:outputLabel for="lname" value="Last Name: "/>
                                <p:inputText id="lname" value="#{editProfile.lastName}" title="Last Name" 
                                     required="true" requiredMessage="The Last Name field is required."/>
                               
                            </li>
                            <li>
                                <p:outputLabel for="email" value="Email: "/>
                                <p:inputText id="email" value="#{editProfile.email}" title="Email" 
                                     required="true" requiredMessage="The Email field is required.">
                                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                </p:inputText>
                            </li>
                            <li>
                                <p:outputLabel for="dob" value="Date of Birth: "/>
                                <p:calendar id="dob" value="#{editProfile.dob}" label="Birthday"
                                            yearRange="1900:2013" mindate="1/1/1900" pattern="m/d/yyyy"
                                            autocomplete="false" navigator="true" style="white-space: nowrap;"
                                            required="true" requiredMessage="Birthday is required!" />
                            </li>
                            <li>
                                <p:outputLabel for="postalCode" value="Postal Code: "/>
                                <p:inputText id="postalCode" value="#{editProfile.postalCode}" title="Postal Code" 
                                     required="true" requiredMessage="The Postal Code field is required." />
                            
                            </li>
                            <li>
                                <p:outputLabel for="about" value="About Me: "/>
                                <p:inputTextarea id="about" autoResize="true" maxlength="1500" 
                                                 value="#{editProfile.about}" title="About Me" />
                            </li>
                            <li>
                                <p:outputLabel for="password" value="New Password: "/>
                                <p:password  id="password" value="#{editProfile.password}" title="Password" 
                                             match ="confirmPassword" feedback="true" />
                            </li>
                            <li>
                                <p:outputLabel for="confirmPassword" value="Confirm New Password: "/>
                                <p:password  id="confirmPassword" value="#{editProfile.password}" title="Confirm Password" 
                                             feedback="true" validatorMessage="Confirm password field must match!"/>
                            </li>
                            <li>
                                <p:commandButton value="Save" ajax="false" update="messages" action="#{editProfile.save}" />
                            </li>
                            <li>
                                <br />
                                To cancel, return to the <h:link outcome="home" value="home page"></h:link>.
                            </li>
                        </ul>
                    </fieldset>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
