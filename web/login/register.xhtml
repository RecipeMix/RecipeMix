<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://java.sun.com/jsf/html"
       xmlns:ui="http://java.sun.com/jsf/facelets"
       xmlns:p="http://primefaces.org/ui"
       xmlns:f="http://java.sun.com/jsf/core">

    <h:body>
        <ui:composition template="/resources/templates/commonLayout.xhtml">
            <ui:define name="title">Register</ui:define>
            <ui:define name="content">
                <h:form prependId="false" id="registration">
                    <p:fieldset legend="Register">
                        <p:growl id="messages"/>
                        <ul class ="formFields">
                            <li>
                                <p:outputLabel for="username" value="User Name: "/>
                                <p:inputText id="username" value="#{registration.newUser.userName}" title="User Name" 
                                     required="true" requiredMessage="The User Name field is required."/>
                            </li>
                            <li>
                                <p:outputLabel for="fname" value="First Name: "/>
                                <p:inputText id="fname" value="#{registration.newUser.firstName}" title="First Name" 
                                     required="true" requiredMessage="The First Name field is required."/>
                            </li>
                            <li>
                                <p:outputLabel for="lname" value="Last Name: "/>
                                <p:inputText id="lname" value="#{registration.newUser.lastName}" title="Last Name" 
                                     required="true" requiredMessage="The Last Name field is required."/>
                               
                            </li>
                            <li>
                                <p:outputLabel for="email" value="Email: "/>
                                <p:inputText id="email" value="#{registration.newUser.email}" title="Email" 
                                     required="true" requiredMessage="The Email field is required."
                                     validatorMessage="Email address is not valid!">
                                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                </p:inputText>
                                <p:watermark for="email" value="example@example.com" />
                            
                            </li>
                            <li>
                                <p:outputLabel for="dob" value="Date of Birth: "/>
                                <p:calendar id="dob" value="#{registration.dateOfBirth}" label="Birthday" 
                                            yearRange="#{bundle['dob.range']}" mindate="#{bundle['dob.MIN']}" maxdate="#{bundle['dob.MAX']}" pattern="#{bundle['date.format']}" 
                                            autocomplete="off" navigator="true" required="true"
                                            requiredMessage="Birthday is required!" />
                                <p:watermark for="dob" value="MM/DD/YYYY" />
                            </li>
                            <li>
                                <p:outputLabel for="postalCode" value="Postal Code: "/>
                                <p:inputText id="postalCode" value="#{registration.newUser.postalCode}" title="Postal Code" 
                                     required="true" requiredMessage="The Postal Code field is required."/>
                            
                            </li>
                            <li>
                                <p:outputLabel for="countries" value="Country: " />
                                <p:selectOneMenu id="countries"
                                                 value="#{registration.newUser.country}"
                                                 required="true"
                                                 requiredMessage="Country is required">
                                    <f:selectItems value="#{registration.countries}"  />
                                </p:selectOneMenu>
                            </li>
                            <li>
                                <p:outputLabel for="password" value="Password: "/>
                                <p:password  id="password" autocomplete="off" value="#{registration.newUser.password}" title="Password" 
                                             required="true" match ="confirmPassword" requiredMessage="The Password field is required."
                                             validatorMessage="Confirm password field must match!" feedback="true"/>
                            </li>
                            <li>
                                <p:outputLabel for="confirmPassword" value="Confirm Password: "/>
                                <p:password  id="confirmPassword" value="#{registration.newUser.password}" title="Confirm Password" 
                                             required="true" requiredMessage="The Confirm Password field is required." 
                                             validatorMessage="Confirm password field must match!"  feedback="true"/>
                            </li>
                            <li>
                                <p:commandButton value="Register" ajax="false" update="messages" action="#{registration.registerUser}" />
                            </li>
                            <li>
                                <br />
                                To cancel, return to the <h:link outcome="home" value="home page"></h:link>.
                            </li>
                        </ul>
                    </p:fieldset>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
