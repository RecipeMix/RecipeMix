<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./resources/templates/commonLayout.xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="title">RecipeMix</ui:define>

    <ui:define name="header">
        <ui:include src="/resources/templates/commonHeader.xhtml" />
    </ui:define>

    <ui:define name="content">
        <div class="container">
            <div class="row">
                <!-- Carousel
                ================================================== -->
                <div id="myCarousel" class="carousel slide">
                  <div class="carousel-inner">
                    <div class="item active">
<!--                      <img src="../assets/img/examples/slide-02.jpg" alt="" />-->
                      <div class="container">
                        <div class="carousel-caption">
                          <h1>Recipe Name</h1>
                          <p class="lead">A short recipe description goes here...</p>
                          <a class="btn btn-large btn-primary" href="#">View Recipe</a>
                        </div>
                      </div>
                    </div>
                    <div class="item">
<!--                      <img src="../assets/img/examples/slide-02.jpg" alt="" />-->
                      <div class="container">
                        <div class="carousel-caption">
                          <h1>Recipe Name</h1>
                          <p class="lead">A short recipe description goes here...</p>
                          <a class="btn btn-large btn-primary" href="#">View Recipe</a>
                        </div>
                      </div>
                    </div>
                    <div class="item">
<!--                      <img src="../assets/img/examples/slide-02.jpg" alt="" />-->
                      <div class="container">
                        <div class="carousel-caption">
                          <h1>Recipe Name</h1>
                          <p class="lead">A short recipe description goes here...</p>
                          <a class="btn btn-large btn-primary" href="#">View Recipe</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a>
                  <a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a>
                </div><!-- /.carousel -->
            </div>
        </div>
        
        <!-- Marketing messaging and featurettes
        ================================================== -->
        <!-- Wrap the rest of the page in another container to center all the content. -->

        <div class="container marketing">

          <!-- Three columns of text below the carousel -->
          <div class="row">
            <div class="span4">
              <img class="img-circle" src="http://placehold.it/140x140" />
              <h2>Awesome Recipes</h2>
              <p>
                Maybe you've grown bored with your own version of Lemon-Pepper Chicken.
                Perhaps you want to try your hand at making overly-complicated scrambled eggs (looking at you Ramsay). Well this is the place
                to explore and find exciting new recipes!
              </p>
            </div><!-- /.span4 -->
            <div class="span4">
              <img class="img-circle" src="http://placehold.it/140x140" />
              <h2>Awesome Community</h2>
              <p>
                All your life you've wondered if anyone could possibly like eggplant as much as you do. Well here on RecipeMix
                you'll find a whole group of people who do. All with their own recipes involving that most delectable of vegetables
                and anything else you can imagine!
              </p>
            </div><!-- /.span4 -->
            <div class="span4">
              <img class="img-circle" src="http://placehold.it/140x140" />
              <h2>Infinite Awesome</h2>
              <p>
                Keep a list of your favorite recipes, compare recipes side by side if you want to go over them in strenuous detail,
                view their nutrition facts and even rate them. If you own or moderate a group you can add recipes to it, control users that join
                (or not this is a free country!).  
              </p>
            </div><!-- /.span4 -->
          </div><!-- /.row -->
        </div>

<!--        <div class="marketing-page">
            <div id="marketing-page-gallery">
                <p:galleria id="indexGalleria"  value="#{featured.featuredRecipes}" var="r"
                            panelHeight="200" showCaption="false" frameHeight="20" frameWidth="20"
                            effectSpeed="800" transitionInterval="7000" >
                    <h:link outcome="recipeProfile.view">
                        <f:param name="recipe" value="#{r.recipeId}" />
                        <p:graphicImage alt="#{r.imageGallery[0].caption}" styleClass="welcomeImage"
                                        url="#{r.imageGallery[0].imagePath}"/>
                    </h:link>
                </p:galleria>
            </div>

            <h1>Your recipes. Your way.</h1>
            <c:choose>
                <c:when test="#{!userIdentity.isUserAuthenticated}">
                </c:when>
            </c:choose>
            <div class="marketing-page-footer">
                <p:carousel  circular="true" numVisible="1" id="featuredUsersCarousel" 
                             headerText="Featured Users"
                             value="#{featured.featuredUsers}" var="user" itemStyleClass="memberCarouselItem" 
                             widgetVar="carouselNice"> 
                    <h:link outcome="userProfile.view">
                        <p:graphicImage id="featuredUserImage" styleClass="rImageSmall"
                                        url="#{user.image.imagePath}" alt="#{user.image.caption}" /><br/>
                        <div>#{user.firstName} #{user.lastName}</div>
                        <f:param name="user" value="#{user.userName}" />
                    </h:link>
                </p:carousel>
                <p:dataList type="none" rows="4" id="newsList" paginatorAlwaysVisible="false"
                            value="#{news.newsPosts}" var="n"
                            paginator="TRUE" paginatorPosition="bottom" >
                    <f:facet name="header"><h:outputText value="Site News" /></f:facet>
                    <p:panel>
                        <h:link id="newsLink" value="#{n.newsTitle}" outcome="/news.xhtml">
                            <f:param name="newsID" value="#{n.newsId}" />
                        </h:link><br/>
                        <h:outputText value=" by #{n.poster.userName} on " />
                        <h:outputText value="#{n.postDate}">
                            <f:convertDateTime dateStyle="full" timeZone="PST" type="date" />
                        </h:outputText>
                    </p:panel>
                </p:dataList>
            </div>
            <p:dataList type="none" rows="2" paginator="TRUE" id="recentRecipes"
                        paginatorPosition="bottom" value="#{browseRecipes.recentRecipes}" var="r">
                <f:facet name="header"><h:outputText value="Recent Recipes" /></f:facet>
                <h:link outcome="recipeProfile.view">
                    <f:param name="recipe" value="#{r.recipeId}" />
                    <p:panelGrid columns="2">
                        <p:column>
                        <p:graphicImage styleClass="rImageMedium-Small" 
                                        url="#{r.imageGallery[0].imagePath}" title="#{r.imageGallery[0].description}" 
                                        alt="#{r.imageGallery[0].caption}"/>
                        </p:column>
                        <p:column style="height: 100px;">
                            <div>#{r.recipeName}</div>
                            <p style="height:100px; overflow: hidden">
                                #{r.recipeDescription}
                            </p>
                        </p:column>
                    </p:panelGrid>
                </h:link>
            </p:dataList>
            <h:outputScript library="js" name="carousel_fix.js" />
        </div>-->

    <script>
      $('.dropdown-toggle').dropdown();

      !function ($) {
        $(function(){
          // carousel demo
          $('#myCarousel').carousel();
        });
      }(window.jQuery);
    </script>
    </ui:define>
</ui:composition>

